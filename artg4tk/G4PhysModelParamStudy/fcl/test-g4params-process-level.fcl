// #include "detectorDefaults.fcl"
process_name:processA

source: 
{
  module_type: EmptyEvent
  maxEvents:  20000
}

services: 
{

  message : 
  {
     debugModules : ["*"]
     suppressInfo : []    
     destinations : 
     {
       LogToConsole : 
       {
         type : "cout"
         threshold : "DEBUG"
         categories : 
	 {
           default : { limit : 50 }
         }
       }
     }
  }

  TFileService :
  {
    fileName: "HARPBertini-ProcL.root"
  }

  user: 
  {

//     RandomNumberGenerator: {}
         
     PhysModelConfig: 
     {
//        Verbosity: true
     }
     
     ProcLevelSimSetup:
     {
        HadronicModelName: "Bertini"
	TargetNucleus: "Pb"
	RNDMSeed: 12345
     }

  }

}

outputs: 
{
   out1: 
   {
      module_type: RootOutput   
      fileName: "EvtBertini-ProcL.root"
   }
}

physics: {

  producers: 
  {

     PrimaryGenerator:
     {
        module_type: EventGenerator
	nparticles : 1
	momentum: [ 0., 0., 5. ] // in GeV 
     }

     G4BertiniDefault:
     {
        module_type: ProcLevelMPVaryProducer
	//
	Verbosity: 0
	HadronicModel:
	{
	   DefaultPhysics: true
	   ModelParameters:
	   {
	   }
	}
     }
     
     G4BertiniVar1:
     {
        module_type: ProcLevelMPVaryProducer
	Verbosity: 0
	HadronicModel:
	{
	   DefaultPhysics: false
	   ModelParameters:
	   {
	      RadiusScaleByRatio: 0.75
	   }
	}
     }

     G4BertiniVar2:
     {
        module_type: ProcLevelMPVaryProducer
	Verbosity: 0
	HadronicModel:
	{
	   DefaultPhysics: false
	   ModelParameters:
	   {
	      RadiusScaleByRatio: 1.25
	   }
	}
     }

     G4BertiniVar3:
     {
        module_type: ProcLevelMPVaryProducer
	Verbosity: 0
	HadronicModel:
	{
	   DefaultPhysics: false
	   ModelParameters:
	   {
	      RadiusScaleByRatio: 0.5
	   }
	}
     }

     G4BertiniVar4:
     {
        module_type: ProcLevelMPVaryProducer
	Verbosity: 0
	HadronicModel:
	{
	   DefaultPhysics: false
	   ModelParameters:
	   {
	      RadiusScaleByRatio: 1.5
	   }
	}
     }

  }
  
  analyzers:
  {
  
     BertiniDefaultHARP:
     {
        module_type: AnalyzerHARP
	ProductLabel: "G4BertiniDefault"
     }
     
     BertiniVar1HARP:
     {
        module_type: AnalyzerHARP
	ProductLabel: "G4BertiniVar1"
     }

     BertiniVar2HARP:
     {
        module_type: AnalyzerHARP
	ProductLabel: "G4BertiniVar2"
     }

     BertiniVar3HARP:
     {
        module_type: AnalyzerHARP
	ProductLabel: "G4BertiniVar3"
     }

     BertiniVar4HARP:
     {
        module_type: AnalyzerHARP
	ProductLabel: "G4BertiniVar4"
     }
  
// JVY, 11/21/15: does NOT work at the moment - segfaults, need update
//
//     RooMUSummary:
//     {
//        module_type: RooMUHistSummary
//	//
//	Verbosity: 0
//	G4DefaultDirectory: "BertiniDefaultHARP"
//	G4VariantDirectories: [ "BertiniVar1HARP", "BertiniVar2HARP", "BertiniMVar3HARP", "BertiniVar4HARP" ]
//     }

  }
  
  path1:   [ PrimaryGenerator, G4BertiniDefault, G4BertiniVar1, G4BertiniVar2, G4BertiniVar3, G4BertiniVar4 ] 
//  path2:   [ BertiniDefaultHARP, BertiniVar1HARP, BertiniVar2HARP, BertiniVar3HARP, BertiniVar4HARP, RooMUSummary  ]
  path2:   [ BertiniDefaultHARP, BertiniVar1HARP, BertiniVar2HARP, BertiniVar3HARP, BertiniVar4HARP ]
  stream1: [ out1 ]

  trigger_paths: [ path1 ]
  //
  // NOTE: Remember, if you have an end_path, you should put your analyzer(s) there !
  //       Otherwise, they will NOT be included in the exec.
  //       If you don't have an end_path, things will magically work though... 
  //        
  end_paths:     [ path2, stream1 ]

}
